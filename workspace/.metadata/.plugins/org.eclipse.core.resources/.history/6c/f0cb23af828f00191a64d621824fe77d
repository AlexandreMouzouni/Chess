package jeu;


import java.util.ArrayList;
import java.util.List;

public class Partie {
	private ArrayList<Echiquier> historique;
	private Echiquier tempUndo;
	
	public void addEtat(Echiquier e) {
		historique.add(e);
		
		// Mise a jour: l'undo ne tient plus
		this.tempUndo = null;
	}
	
	public Echiquier getEtat(int i) {
		return historique.get(i);
	}
	
	public boolean undo() {
		// On ne peut pas undo le premier coup.
		if (historique.size() == 1) {
			return false;
		}
		
		Echiquier e = historique.remove(historique.size() - 1);
		this.tempUndo = e;
		
		return true;
	}
	
	public boolean redo() {
		if (this.tempUndo == null) { // Pas de coup a revenir en avant
			return false;
		}
		
		this.addEtat(this.tempUndo); // Ajouter le coup qu'on vient d'undo..
		this.tempUndo = null; // et l'oublier
		
		return true;
	}
	
	public boolean size() {
		return this.size();
	}
}
